(window.webpackJsonpcommon=window.webpackJsonpcommon||[]).push([[3],{21:function(n){n.exports=JSON.parse('{"1":{"label":"NodeJs + Websocket","time":"2019.12.26","url":"mlogs/2019/1.md","tag":["NodeJs","Websocket"]},"2":{"label":"Nodejs + MongoDB 搭建服务","time":"2019.12.25","url":"mlogs/2019/2.md","tag":["NodeJs","MongoDB"]},"3":{"label":"Vue + drag 拖拽元素并获取数据","time":"2020.9.22","url":"mlogs/2019/3.md","tag":["Vue","drag"]},"4":{"label":"Vue + 视图拖拽","time":"2020.9.22","url":"mlogs/2019/4.md","tag":["Vue","drag"]}}')},22:function(n,e,t){var o=t(5),i=t(40);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[n.i,i,""]]);var r={insert:"head",singleton:!1};o(i,r);n.exports=i.locals||{}},25:function(n,e,t){"use strict";t.r(e);var o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"zlogs"},[t("div",{staticClass:"top-wrap"},[t("div",{staticClass:"label",on:{click:function(e){return n.$router.push("/")}}},[n._v("z7xisoo")]),n._v(" "),t("div",{staticClass:"links"},[t("a",{staticClass:"item",attrs:{target:"_blank",href:"https://github.com/z7xisoo"}},[n._v("Github")]),n._v(" "),t("div",{staticClass:"item",on:{click:function(e){return n.$router.push("/zi")}}},[n._v("About")])])]),n._v(" "),t("div",{staticClass:"content-wrap"},[t("div",{class:["iphone-wrap",n.markdown&&"white"]},[t("div",{key:n.timeNumber,staticClass:"phone-time"},[n._v(n._s((new Date).getHours())+":"+n._s((new Date).getMinutes()>9?(new Date).getMinutes():"0"+(new Date).getMinutes())+":"+n._s((new Date).getSeconds()>9?(new Date).getSeconds():"0"+(new Date).getSeconds()))]),n._v(" "),n.showBlog?[t("div",{staticClass:"list"},n._l(n.mds,(function(e,o){return t("div",{key:o,class:[n.isId===o&&"select","item"],on:{click:function(t){return n.handleClick(e,o)}}},[t("div",{staticClass:"tags"},n._l(e.tag,(function(e){return t("div",{key:e,staticClass:"tag-item"},[n._v(n._s(e))])})),0),n._v(" "),t("h1",{staticClass:"label",attrs:{title:e.label}},[n._v(n._s(e.label))]),n._v(" "),t("div",{staticClass:"time"},[t("div",[n._v(n._s(e.time))]),n._v(" "),n._l("123456",(function(n){return t("div",{key:n,staticClass:"do"})}))],2)])})),0)]:[t("div",{staticClass:"home",on:{click:n.handleToblogs}},[n._v("z7xisoo")])],n._v(" "),t("div",{staticClass:"phone-back",on:{click:n.back}})],2),n._v(" "),n.markdown?t("div",{staticClass:"markdown-wrap"},[t("h1",{staticClass:"markdown-title"},[n._v(n._s(n.title))]),n._v(" "),n.markdown?t("MarkdownPreview",{attrs:{initialValue:n.markdown,theme:"oneDark"}}):n._e()],1):t("div",{staticClass:"markdown-wrap no-markdown"},[t("RainbowWaves",{attrs:{config:n.config,waves:n.waves}}),n._v(" "),n._m(0)],1)])])};o._withStripped=!0;var i=t(21),r=t(31),s=t(24),a={name:"Zlogs",components:{MarkdownPreview:r.a,RainbowWaves:s.a},computed:{},watch:{},data:()=>({mds:i,markdown:null,config:{},isId:"1",showBlog:!0,timeNumber:0,timeInterval:null,title:"",config:{background:{type:"color",color:"orange"},direction:"right"},waves:[{background:{type:"color",color:"rgba(255,255,0,0.5)",position:[0,0,0,1080]},jitter:.04,restore:.03,waveGap:80,waterGap:20,waveUps:6,bit:.3}]}),watch:{},mounted(){this.handleFirstMD(),this.timeInterval=setInterval(()=>{this.timeNumber+=1},1e3)},beforeDestroy(){this.timeInterval&&clearInterval(this.timeInterval)},methods:{handleToblogs(){this.showBlog=!0,this.handleFirstMD()},handleFirstMD(){this.title=this.mds[1].label,this.markdown=t(26)("./"+this.mds[1].url)},handleClick(n,e){this.isId=e,this.title=n.label,this.markdown=t(26)("./"+n.url)},back(){this.showBlog=!this.showBlog,this.showBlog?this.handleFirstMD():this.markdown=null}}},l=(t(39),t(0)),d=Object(l.a)(a,o,[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"text"},[n._v("\n        至\n        "),t("br"),n._v("自律,\n        "),t("br"),n._v("自控,\n        "),t("br"),n._v("自持,\n        "),t("br"),n._v("自省,\n        "),t("br"),n._v("自视,\n        "),t("br"),n._v("自重,\n        "),t("br"),n._v("自修,\n        "),t("br"),n._v("来日方可期\n      ")])}],!1,null,null,null);d.options.__file="src/modules/zlogs/index.vue";e.default=d.exports},26:function(n,e,t){var o={"./":25,"./index":25,"./index.vue":25,"./mds":21,"./mds.json":21,"./mlogs/2019/1.md":35,"./mlogs/2019/2.md":36,"./mlogs/2019/3.md":37,"./mlogs/2019/4.md":38};function i(n){var e=r(n);return t(e)}function r(n){if(!t.o(o,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return o[n]}i.keys=function(){return Object.keys(o)},i.resolve=r,n.exports=i,i.id=26},35:function(n,e){n.exports='# 目的\n\n``` \n    通过nodejs + ws (Websocket) 实现点对点发送及群聊发送\n    项目搭建直接跳过，这里列举一下用到的插件 \n    yarn add ws\n```\n\n# WebSocket\n\n```话不多说，直接上码```\n\n```\n    对比上一篇文章 << Nodejs+MongoDB 搭建服务( demo ) >> server.js 主要是增加了ws的引用，\n    webSocket 点对点也好，群聊也好，主要是用到一个方法 clients 它的作用就是存储了连接，\n    我们可以通过对每一个连接增加标识，然后根据接收到的信息进行解析，遍历然后发送正确的响应。\n```\n\n![](https://user-gold-cdn.xitu.io/2019/12/26/16f404057b532994?w=871&h=898&f=png&s=77539)\n\n```\n    先解析下代码（小声BB）, 下面会有HTML页面\n    nbs.on("connection", (ws, req) => {\n      ws.on("message", message => {\n        // 这里解析数据\n        const result = JSON.parse(message);\n        // 是否是登陆，登陆后绑定id\n        if (result.login) {\n          ws.socketIdxos = result.id;\n        } else {\n          // 这里只做一个小的场景，不是登陆就是发送信息\n          // 根据存储的id 是否是要 发送的对象 来单独响应\n          nbs.clients.forEach(s => {\n            if (s.socketIdxos == result.to && s.readyState == 1) {\n              s.send(JSON.stringify({ data: result.mes }));\n            }\n          });\n        }\n      });\n      ws.on("close", message => {\n        console.log(ws.socketIdxos,"退出连接");\n      });\n    });\n```\n***\n# HTML\n\n```这里我分别建了三个页面其中两个模拟用户，一个模拟群聊```\n```\n这是BBB用户，另一个页面是 AAA 只是改了下信息而已，就不都贴上来了，很简单\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>BBB111</title> \n    <script>\n    const ws = new WebSocket("ws://localhost:8181");\n    ws.onopen = function (e) {\n      ws.send(JSON.stringify({\n        "id":"BBB111",\n        "login":true,\n      }));\n    }\n    function sendMessage() {\n        ws.send(JSON.stringify({\n        "id":"BBB111", // 当前ID\n        "login":false, // 是否登陆\n\t\t"to":"AAA111", // 发送对象\n\t\t"mes":"我是BBB111,这是发送给AAA111的消息"  // 发送内容\n      }));\n    }\n\tfunction sendYUYUYU() {\n        ws.send(JSON.stringify({\n        "id":"BBB111",\n        "login":false,\n\t\t"to":"YUYUYU",\n\t\t"mes":"我是BBB111,这是到群里的消息"\n      }));\n    }\n    ws.onmessage = function (e) {\n      console.log(e,"eeee-");\n    }\n    <\/script>\n  </head>\n    \n  <body >\n      <button onclick="sendMessage();"> 发送 </button>\n\t  <button onclick="sendYUYUYU();"> 群聊 </button>\n  </body>\n  </html>\n ```\n \n ```下面的是只用来接收的群页面，更简单```\n \n ```\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <title>群聊</title>\n        <script>\n        const ws = new WebSocket("ws://localhost:8181");\n        ws.onopen = function (e) {\n          // 这里主要作用就是注册下群成立了 ......\n          ws.send(JSON.stringify({ \n            "id":"YUYUYU", \n            "login":true,\n          }));\n        }\n        ws.onmessage = function (e) {\n          console.log(e,"eeee-");\n        }\n        <\/script>\n      </head>\n        \n      <body >\n    \n      </body>\n      </html>\n  ```\n  ***\n  # 展示\n  ``` \n    const ws = new WebSocket("ws://localhost:8181");\n    localhost 可以换成的你的本机IP，这样页面在其他电脑也可以发送到你的页面上\n  ```\n  \n  \n![](https://user-gold-cdn.xitu.io/2019/12/26/16f405aeacd339e7?w=1526&h=447&f=png&s=52065)\n\n```可以看到，在BBB的页面，接收到了AAA发送的信息```\n\n\n![](https://user-gold-cdn.xitu.io/2019/12/26/16f405c0a5218c3e?w=1557&h=390&f=png&s=44178)\n\n```无论是AAA发送的群里信息，还是BBB发送的群里信息，在群聊页面都是可以看到的```\n***\n```  至此，一个简单的私聊，群聊 WebSocket 就完成了，最后希望大家有所收获，再会!! ```\n\n```\n参考网址如下\n    https://www.jianshu.com/p/1a85c436917d\n```\n\n```本篇文章是为记录小白的成长历程（主要是记性不好，记个笔记有保障，用到的时候可以拿出来瞅瞅） 2019/12/26```\n'},36:function(n,e){n.exports='# 前言\n\n**此次使用nodejs搭建后端平台，独立完成对MongoDB数据库的增，删，改，查功能**\n\n```体验下作后端同学的感jio (这是一个小小的demo)```\n\n```后端嘛，肯定是先有库才有码的，这里就先讲库,Go~```\n\n```!菜鸟一枚，如果文章有什么不对的地方，欢迎各位大神指正(感谢)```\n***\n# MongoDB\n```这里我是用的图形化管理工具对MongoDB进行管理，下面有记录```\n## 安装\n**地址**\n`https://www.mongodb.com/download-center/community`\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36f0d0d05f49d?w=1920&h=937&f=png&s=70168)\n\n```如上图所示，Download 下载安装包```\n\n```推荐 Custom 自定义安装，我习惯放到D盘（看个人喜好）```\n***\n# Robo 3T\n\n## 安装\n**地址**\n`https://robomongo.org/download `\n\n**步骤**\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36afbb8454e51?w=1501&h=742&f=png&s=84178)\n\n```此处选用第二个（第一个有兴趣可以自行研究），安装很简单next就可以了，路径我选择的是D盘。```\n\n## 使用\n\n**连接**\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36b5abcdd605a?w=1744&h=975&f=png&s=64372)\n```如上图所示，我们点击create新建立一个连接，Save，Connect```\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36b7cf597eda7?w=466&h=419&f=png&s=8107)\n\n**建库**\n\n```在创建的连接上右键 -> Create Database -> enter name -> create```\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36ca5e451bb4f)\n\n```此时创建一个User的库```\n\n**建表**\n\n```User库里会有什么呢? 先创建一个信息表```\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36ce4d3eb29da?w=307&h=184&f=png&s=4366)\n\n**数据**\n\n```表有了，接下来就是数据了，如下图所示```\n\n![](https://user-gold-cdn.xitu.io/2019/12/24/16f36d911f927074?w=1744&h=975&f=png&s=85286)\n\n```这样第一条数据就产生了，其他的库以及表需要发挥智慧去设计一下，暂时over```\n\n```其他的操作代码，同学们可以自行查找下，不是很难（我就不献丑了）```\n***\n# nodejs\n\n## node\n```安装就完事了，此处略过，不会的同学可以自行查找 (偷偷给个下载地址: http://nodejs.cn/download/ )```\n\n## 项目构建\n\n##### 第一步， 新建一个文件夹，然后用VSCode打开（git，yarn）\n```JavaScript\n    npm init --yes // 创建package.json\n    yarn // 安装依赖\n    \n    yarn add express // 安装 express\n    yarn add mongodb // 安装 mongodb\n```\n##### 第二步， 创建一个后端项目启动文件 server.js 放到根目录，贴个最基础的例子\n```JavaScript\nconst express = require(\'express\')\nconst app = express();\n// 在根目录新建一个modeles文件夹，然后划分一个首页Home的文件夹，里面再具体划分首页要展示的功能\nconst home = require(\'./modules/Home/home.js\');\n// 配置路由\napp.use(\'/home\',home);\n// 监听\napp.listen(3000);\n```\n```这样根目录的server.js 就完成了，接下来就是连接到mongoDB服务器```\n\n##### 第三步，先做到可以连接到数据库，并且查到User -> info 的数据\n```JavaScript\n// 配置模块\nconst express = require("express");\nconst router = express.Router();\nconst MongoClient = require("mongodb").MongoClient;\nconst DB_URL = "mongodb://127.0.0.1:27017/";\n\nrouter.get("/", function(req, res) {\n  MongoClient.connect(\n    DB_URL,\n    { useUnifiedTopology: true, useNewUrlParser: true },\n    (error, db) => {\n      const User = db.db("User");\n      User.collection("info")\n        .find({})\n        .toArray((err, result) => {\n          if (err) throw err;\n          console.log(result, "连接成功!");\n          res.json({\n              result\n          });\n          db.close();\n        });\n    }\n  );\n});\n// 暴露路由\nmodule.exports = router;\n```\n```自己研究了好久，这里就直接贴出来了，目录结构如下图```\n\n![](https://user-gold-cdn.xitu.io/2019/12/25/16f3afc32b93aefb?w=1344&h=293&f=png&s=36845)\n\n##### 第四步，启动服务 打开终端  node server.js 然后 打开浏览器 http://localhost:3000/home\n\n![](https://user-gold-cdn.xitu.io/2019/12/25/16f3af6f13bb7625?w=638&h=171&f=png&s=7539)\n\n```在浏览器上也可以看到数据显示在页面上```\n##### 第五步，完善，既然查询搞定了，那么尝试下 增删改\n```这里呢，经过百般尝试，总结还需要其他的插件来支持的（此处是为精华）```\n```JavaScript\n    yarn add bodyParser // 解析json，便于nodejs 可以拿到传过来的数据\n    ***跨域***  此处百度一番如下，放到 server.js 中\n    app.all("*",(req,res,next) => {\n        //设置允许跨域的域名，*代表允许任意域名跨域\n        res.header("Access-Control-Allow-Origin","*");    \n        //允许的header类型\n        res.header("Access-Control-Allow-Headers","content-type");    \n        //跨域允许的请求方式 \n        res.header("Access-Control-Allow-Methods","DELETE,PUT,POST,GET,OPTIONS");    \n        if (req.method.toLowerCase() == \'options\'){\n            res.sendStatus(200);  //让options尝试请求快速结束\n        }else{\n            next();\n        }\n    });\n```\n![](https://user-gold-cdn.xitu.io/2019/12/25/16f3bc9924632aa2?w=1085&h=639&f=png&s=71556)\n```接下来就是要写对mongoDB数据库的增删改查，我先做的是查，改，增，删操作，顺便贴一下 html页面```\n``` \n这里穿插一下讲解(小声BB)\n    \n    页面是直接使用 axios ，用的过程中发现post需要自己定义 headers，这一点是比较重要的（在解决跨域的前提下）\n    axios.post(\'http://localhost:3000/home/updata\',{ "name":"zhangsan"},{\n\t headers: { \'Content-Type\': \'application/json\' }\n    })\n```\n```JavaScript\n    **home.js**\n    \n    // 配置模块\n    const express = require("express");\n    const router = express.Router();\n    const MongoClient = require("mongodb").MongoClient;\n    const DB_URL = "mongodb://127.0.0.1:27017/";\n    \n    router.get("/", (req, res) => {\n      MongoClient.connect(\n        DB_URL,\n        { useUnifiedTopology: true, useNewUrlParser: true },\n        (error, db) => {\n          const User = db.db("User");\n          User.collection("info")\n            .find({})\n            .toArray((err, result) => {\n              if (err) throw err;\n              res.json({\n                  result\n              });\n              db.close();\n            });\n        }\n      );\n    });\n    \n    router.post("/updata", (req, res) => {\n      MongoClient.connect(\n        DB_URL,\n        { useUnifiedTopology: true, useNewUrlParser: true },\n        (err, db) => {\n          if (err) throw err;\n          const User = db.db("User");\n          const updateStr = {$set: { "name" : "zhangsanupdata" }};\n          User.collection("info").updateOne(req.body, updateStr, (err, result) => {\n              if (err) throw err;\n              res.json({\n                success:true\n              });\n              db.close();\n          });\n        }\n      );\n    });\n    \n    router.post("/increase", (req, res) => {\n      MongoClient.connect(\n        DB_URL,\n        { useUnifiedTopology: true, useNewUrlParser: true },\n        (err, db) => {\n          if (err) throw err;\n          const User = db.db("User");\n          User.collection("info").insertOne(req.body, (err, result) => {\n              if (err) throw err;\n              res.json({\n                success:true\n              });\n              db.close();\n          });\n        }\n      );\n    });\n    \n    router.post("/del", (req, res) => {\n      MongoClient.connect(\n        DB_URL,\n        { useUnifiedTopology: true, useNewUrlParser: true },\n        (err, db) => {\n          if (err) throw err;\n          const User = db.db("User");\n          User.collection("info").deleteOne(req.body, (err, result) => {\n              if (err) throw err;\n              res.json({\n                success:true\n              });\n              db.close();\n          });\n        }\n      );\n    });\n    \n    // 暴露路由\n    module.exports = router;\n```\n\n```JavaScript\n    **html**\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta charset="utf-8">\n    <script src="https://unpkg.com/axios/dist/axios.min.js"><\/script>\n    <title>俺是一个页面</title>\n    <script type="text/javascript" charset="UTF-8">\n    \tfunction GET(){\n    \t axios.get(\'http://localhost:3000/home\')\n    \t  .then(function (response) {\n    \t\tconsole.log(response);\n    \t  })\n    \t  .catch(function (error) {\n    \t\tconsole.log(error);\n    \t  });\n    \t}\n    <\/script>\n    <script type="text/javascript" charset="UTF-8">\n    \tfunction UPDATA(){\n    \t axios.post(\'http://localhost:3000/home/updata\',{\n    \t\t"name":"zhangsan"\n    \t },{\n    \t\t  headers: {\n    \t\t\t\'Content-Type\': \'application/json\'\n    \t\t  },\n    \t })\n    \t  .then(function (response) {\n    \t\tconsole.log(response);\n    \t  })\n    \t  .catch(function (error) {\n    \t\tconsole.log(error);\n    \t  });\n    \t}\n    <\/script>\n    <script type="text/javascript" charset="UTF-8">\n    \tfunction INCREASE(){\n    \t axios.post(\'http://localhost:3000/home/increase\',{\n    \t\t"name":"zhangsan"\n    \t },{\n    \t\t  headers: {\n    \t\t\t\'Content-Type\': \'application/json\'\n    \t\t  },\n    \t })\n    \t  .then(function (response) {\n    \t\tconsole.log(response);\n    \t  })\n    \t  .catch(function (error) {\n    \t\tconsole.log(error);\n    \t  });\n    \t}\n    <\/script>\n    <script type="text/javascript" charset="UTF-8">\n    \tfunction DEL(){\n    \t axios.post(\'http://localhost:3000/home/del\',{\n    \t\t"name":"zhangsanupdata"\n    \t },{\n    \t\t  headers: {\n    \t\t\t\'Content-Type\': \'application/json\'\n    \t\t  },\n    \t })\n    \t  .then(function (response) {\n    \t\tconsole.log(response);\n    \t  })\n    \t  .catch(function (error) {\n    \t\tconsole.log(error);\n    \t  });\n    \t}\n    <\/script>\n    </head>\n    <body>\n       <button onClick="GET()">GET !</button>\n       <button onClick="UPDATA()">UPDATA !</button>\n       <button onClick="INCREASE()">INCREASE !</button>\n       <button onClick="DEL()">DEL !</button>  \n    </body>\n    </html>\n```\n```对于一个小白来讲，也是踩了好久的坑，才弄出来，弄过之后感觉也没啥总结的，唯手熟尔（滑稽）```\n```\n    至此，一个简单的服务demo就完成了，最后希望大家有所收获，再会!!\n```\n***\n```JavaScript\n参考网址如下\n    跨域：https://www.html.cn/qa/node-js/10762.html\n    axios: https://www.kancloud.cn/yunye/axios/234845\n    nodejs-mongodb: https://www.runoob.com/nodejs/nodejs-mongodb.html\n```\n\n```本篇文章是为记录小白的成长历程（主要是记性不好，记个笔记有保障，用到的时候可以拿出来瞅瞅） 2019/12/25```\n***'},37:function(n,e){n.exports='# 目的\n\n``` \n    拖拽元素,并且可以在指定拖拽的区域获取拖拽元素的数据\n    添加到ue自定义指令\n```\n\n# dragdata\n\n```首先设置拖拽传递的数据```\n\n```\n    export const dragdata = (el, binding) => {\n    // 设置可拖拽属性\n    el.setAttribute("draggable", true);\n    el.style.cursor = "move"\n    // 设置要传递的数据\n    el.data = binding.value;\n    el.addEventListener("dragstart", e => {\n        e.dataTransfer.setData("text/plain", JSON.stringify(el.data));\n    });\n    }\n```\n\n\n# drag\n\n```拖拽```\n\n```\n    export const drag = {\n        inserted: (el, binding) => {\n            /* 放下目标节点时触发事件 */\n            el.addEventListener("dragover", (event) => {\n                // 阻止默认动作\n                event.preventDefault();\n            }, false);\n\n            el.addEventListener("drop", (event) => {\n                // 阻止默认动作（如打开一些元素的链接）\n                event.preventDefault();\n                // 移动拖动的元素到所选择的放置目标节点\n                const data = event.dataTransfer.getData("text/plain");\n                binding.value(JSON.parse(data));\n            }, false);\n        }\n    }\n```\n\n# directive\n\n```设置指令```\n\n```\nimport Vue from "vue";\n\nimport { dragdata, drag } from ".index.js";\n\nVue.directive("dragdata", dragdata);\nVue.directive("drag", drag);\n```\n\n\n# Use\n\n```使用指令```\n\n```\n<div v-dragdata="{url}">\n    <el-image :src="url" style="width: 100px; height: 100px" fit="fit"></el-image>\n</div>\n\n\n<div\n    v-drag="handleDrap"\n    class="“drag-wrap”"\n>可拖拽，接受拖拽元素值的wrap</div>\n\n\nhandleDrap(data) {\n    console.log(data, "拖拽获取的元素数据");\n},\n```'},38:function(n,e){n.exports='\n\n# 目的\n\n``` \n    拖拽元素,改变元素视图位置,添加到ue自定义指令\n```\n\n# imMove\n\n\n```\nexport const imMove = el => {\n  let hasMove = false;\n  el.style.cursor = "move"\n  el.addEventListener("mousedown", ev => {\n    ev.preventDefault();\n    const oX = ev.offsetX; // 按下元素内位置\n    const oY = ev.offsetY;\n    const dX = ev.clientX; // 按下时距离视口边距距离\n    const dY = ev.clientY;\n    const oW = Number(el.style.width.replace(/px/g, "")); // 绑定元素宽高\n    const oH = Number(el.style.height.replace(/px/g, ""));\n    const wW = window.innerWidth; // 视口宽高\n    const wH = window.innerHeight;\n    let left = 0;\n    let top = 0;\n    let mX = 0; // 移动时距离视口边距距离\n    let mY = 0;\n    el.onmousemove = (ev) => {\n      hasMove = true;\n      el.classList.add("immove");\n      mX = ev.clientX;\n      mY = ev.clientY;\n      el.style.position = "absolute";\n      el.style.left = dX - oX + "px";\n      el.style.top = dY - oY + "px";\n      let comX = mX - oX;\n      let comY = mY - oY;\n      left = comX < 0 ? 0 : comX + oW > wW ? wW - oW : comX;\n      top = comY < 0 ? 0 : comY + oH > wH ? wH - oH : comY;\n      el.style.left = left + "px";\n      el.style.top = top + "px";\n    }\n  });\n  el.addEventListener("mouseleave", () => {\n    el.onmousemove = null;\n  });\n  el.addEventListener("mouseup", () => {\n    el.onmousemove = null;\n  });\n}\n```\n\n# directive\n\n```设置指令```\n\n```\nimport Vue from "vue";\n\nimport { imMove } from "./index.js";\n\nVue.directive("immove", imMove);\n```\n\n\n# Use\n\n```使用指令```\n\n```\n <el-dialog v-immove title="提示" :visible.sync="dialogVisible" width="300px" :before-close="handleClose">\n      <span>这是一段信息</span>\n      <span slot="footer" class="dialog-footer">\n        <el-button @click="dialogVisible = false">取 消</el-button>\n        <el-button type="primary" @click="dialogVisible = false">确 定</el-button>\n      </span>\n</el-dialog>\n```'},39:function(n,e,t){"use strict";var o=t(22);t.n(o).a},40:function(n,e,t){(e=t(6)(!1)).push([n.i,'.zlogs{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;background:DarkCyan;padding:0 0.1rem;padding-bottom:0.4rem;border:0.2rem dashed #15283a;border-top-width:0;border-left-color:transparent;border-right-color:transparent;box-sizing:border-box}.top-wrap{width:100%;height:0.6rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 0.2rem;padding-left:0.8rem;border-bottom:6px solid #00cd66;color:#fff;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:0.2rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.top-wrap .label{cursor:pointer;font-size:0.36rem;font-family:z7xisoo-font}.top-wrap .links{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.top-wrap .links .item{cursor:pointer;font-size:0.24rem;font-family:z7xisoo-font;margin:0 0.2rem}.content-wrap{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.home{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff;font-size:0.96rem;font-family:z7xisoo-font;cursor:pointer}.markdown-wrap{width:100%;height:100%;overflow:hidden;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;border-radius:0.4rem;position:relative;border:10px solid orange;margin-left:0.6rem;padding-top:0.48rem;background-color:#fff;box-sizing:border-box}.markdown-wrap .markdown-title{width:100%;height:0.48rem;background-color:#000;font-size:0.24rem;text-align:center;color:#fff;line-height:0.48rem;font-family:z7xisoo-font;position:absolute;top:0;left:0}.markdown-wrap div:first-child{width:100% !important;height:100% !important;-webkit-box-sizing:border-box !important;-moz-box-sizing:border-box !important;box-sizing:border-box !important;overflow:hidden !important;overflow-y:scroll !important}.markdown-wrap.no-markdown{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;border:10px solid #fff;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden}.markdown-wrap.no-markdown .text{width:100%;height:100%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;top:0;left:10%;font-size:0.24rem;font-family:z7xisoo-font}.iphone-wrap{width:4rem;height:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;overflow:hidden;border:0.1rem solid orange;border-radius:0.4rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0.4rem 0 0.6rem 0;position:relative;background:-webkit-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:-o-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:linear-gradient(135deg, red, orange, green, blue, DarkCyan);position:relative}.iphone-wrap.white{background:-webkit-linear-gradient(45deg, #cd5c5c, #4169e1);background:-o-linear-gradient(45deg, #cd5c5c, #4169e1);background:linear-gradient(45deg, #cd5c5c, #4169e1)}.iphone-wrap.white .phone-time,.iphone-wrap.white .phone-back{color:#000;background-color:#fff}.phone-time{width:100%;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;height:0.2rem;position:absolute;top:0;left:0;padding:0 0.4rem;color:#000;font-size:0.18rem;font-family:z7xisoo-font;background:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.phone-back{width:100%;height:0.4rem;background-color:#fff;position:absolute;bottom:0rem}.phone-back:after{content:"";width:0.3rem;height:0.3rem;background-color:#fff;border:2px solid #000;position:absolute;bottom:0.02rem;left:50%;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);border-radius:50%;cursor:pointer}.list{width:100%;height:100%;overflow:hidden;overflow-y:scroll;cursor:pointer;padding:0 0.06rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.list .item{width:100%;overflow:hidden;cursor:pointer;padding:0 0.2rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-bottom:0.2rem;-webkit-transition:all 0.4s;-o-transition:all 0.4s;transition:all 0.4s;border-radius:0.04rem;color:#fff;position:relative;background-color:rgba(255,255,255,0.1);-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item::after{content:"";display:block;width:0.1rem;position:absolute;left:0;top:0;height:0.1rem;border:0.06rem solid transparent;border-right-color:transparent;border-bottom-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item::before{content:"";display:block;width:0.1rem;position:absolute;right:0;bottom:0;height:0.1rem;border:0.06rem solid transparent;border-top-color:transparent;border-left-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item:hover{background-color:rgba(255,255,0,0)}.list .item:hover::after{content:"";display:block;width:0.1rem;position:absolute;left:0;top:0;height:0.1rem;border:0.06rem solid #000;border-right-color:transparent;border-bottom-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item:hover::before{content:"";display:block;width:0.1rem;position:absolute;right:0;bottom:0;height:0.1rem;border:0.06rem solid red;border-top-color:transparent;border-left-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item:hover .label::after{content:"";display:block;width:100%;position:absolute;left:50%;bottom:0;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);height:2px;background:-webkit-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:-o-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:linear-gradient(135deg, red, orange, green, blue, DarkCyan);-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item:hover .tags::after{content:"";display:block;width:0;position:absolute;left:100%;bottom:0;-webkit-transform:translate(-100%, 0);-ms-transform:translate(-100%, 0);transform:translate(-100%, 0);height:2px;background-color:#fff;-webkit-transition:all 0.9s;-o-transition:all 0.9s;transition:all 0.9s}.list .item.select{color:#000;background-color:#fff;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item.select:hover{color:#fff;background-color:rgba(255,255,0,0);-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item.select:hover::after{content:"";display:block;width:0.1rem;position:absolute;left:0;top:0;height:0.1rem;border:0.06rem solid red;border-right-color:transparent;border-bottom-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item.select:hover::before{content:"";display:block;width:0.1rem;position:absolute;right:0;bottom:0;height:0.1rem;border:0.06rem solid #000;border-top-color:transparent;border-left-color:transparent;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item.select:hover .label::after{content:"";display:block;width:100%;position:absolute;left:50%;bottom:0;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);height:2px;background-color:#ff3030;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item.select:hover .tags::after{content:"";display:block;width:0;position:absolute;left:0;bottom:0;-webkit-transform:translate(100%, 0);-ms-transform:translate(100%, 0);transform:translate(100%, 0);height:2px;background-color:#fff;-webkit-transition:all 0.9s;-o-transition:all 0.9s;transition:all 0.9s}.list .item.select:hover .time .do{background-color:#fff;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item.select .label::after{content:"";display:block;width:0;position:absolute;left:50%;bottom:0;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);height:2px;background-color:#ff3030;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item.select .time .do{background-color:#ff3030;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item .label{text-align:center;font-size:0.24rem;font-family:z7xisoo-font;line-height:0.36rem;position:relative;width:100%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .label::after{content:"";display:block;width:0;position:absolute;left:50%;bottom:0;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);height:2px;background:-webkit-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:-o-linear-gradient(315deg, red, orange, green, blue, DarkCyan);background:linear-gradient(135deg, red, orange, green, blue, DarkCyan);-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item .time{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:relative;height:0.24rem;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item .time div{line-height:0.24rem;font-size:0.16rem;font-family:z7xisoo-font}.list .item .time div:first-child{position:absolute;left:0;bottom:0}.list .item .time .do{width:0.05rem;height:0.05rem;background-color:transparent;margin:0 0.02rem;border-radius:50%;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s}.list .item .tags{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s;position:relative}.list .item .tags::after{content:"";display:block;width:100%;position:absolute;left:0;bottom:0;-webkit-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);height:2px;background-color:#fff;-webkit-transition:all 0.1s;-o-transition:all 0.1s;transition:all 0.1s}.list .item .tags .tag-item{font-family:z7xisoo-font;margin-left:0.1rem}.markdown-preview>div{padding:10px 12px !important;background:rgba(255,255,255,0.5) !important}\n',""]),n.exports=e}}]);
//# sourceMappingURL=3.js.map